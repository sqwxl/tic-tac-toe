(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{47:function(e,t,a){e.exports=a(59)},53:function(e,t,a){},54:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n,r,l=a(0),i=a.n(l),s=a(14),o=a.n(s),c=(a(52),a(53),a(37)),u=a(38),h=a(12),m=a(41),d=a(42),f=a(29),v=a(46),y=a(44),p=a(35),E=a(8),g=a(36),b=a(15),k=a(23),w=a(43),C=a(24),j=a(21),O=a(45),x=a(28),S=(a(54),[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]);!function(e){e.Init="INIT",e.First="FIRST",e.Playing="PLAYING",e.Done="DONE"}(n||(n={})),function(e){e.Undetermined="UNDETERMINED",e.Won="WON",e.Draw="DRAW"}(r||(r={}));var N=["\u274c","\u2b55"],I=["X","O"];function D(e){return i.a.createElement(C.a,{show:e.show,backdrop:"static",keyboard:!1,centered:!0},i.a.createElement(C.a.Header,{className:"justify-content-center"},i.a.createElement(C.a.Title,null,i.a.createElement("h1",{className:"display-4"},"TIC-TAC-TOE"))),i.a.createElement(C.a.Body,null,i.a.createElement("h5",null,"Choose game type:"),i.a.createElement(j.a,{disabled:!0,variant:"primary"},"Player 1 ",i.a.createElement(k.a,{variant:"light"},N[e.players[0]])),i.a.createElement("span",null," vs. "),i.a.createElement(O.a,{name:"ai-toggle",type:"radio",defaultValue:e.ai?1:0,onChange:function(t,a){return e.handleChange({ai:!!t},a)}},i.a.createElement(x.a,{value:1},"AI"),i.a.createElement(x.a,{value:0},"Player 2 ",i.a.createElement(k.a,{variant:"light"},N[e.players[1]]))),i.a.createElement("br",null),i.a.createElement(j.a,{className:"mt-1",variant:"primary",onClick:function(t){return e.handleChange({players:[e.players[1],e.players[0]]},t)}},i.a.createElement(k.a,{variant:"light"},N[e.players[0]])," \u21cc ",i.a.createElement(k.a,{variant:"light"},N[e.players[1]]))),i.a.createElement(C.a.Footer,null,i.a.createElement(j.a,{variant:"success",onClick:function(t){return e.handleChange({stage:n.First},t)}},"Play!")))}function P(e){var t=i.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 200 200",fill:"none",stroke:"black"},i.a.createElement("circle",{cx:"50%",cy:"50%",r:"49%"})),a=i.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 200 200",fill:"none",stroke:"black"},i.a.createElement("line",{x1:"0",y1:"0",x2:"100%",y2:"100%"}),i.a.createElement("line",{x1:"100%",y1:"0",x2:"0",y2:"100%"})),n=i.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 200 200",fill:"none",stroke:"none"}),r=null==e.value?n:e.value===I[0]?a:t;return i.a.createElement(b.a,{className:"square",onClick:e.onClick,style:e.style},r)}function T(e){var t=function(){var t=0;return function(a){var n=t++;return i.a.createElement(P,{value:e.squares[n],onClick:function(){return e.onClick(n)},style:a})}}();return i.a.createElement(p.a,null,i.a.createElement(g.a,{className:"board-row justify-content-center"},i.a.createElement(b.a,null),t(),t({borderLeft:"1px solid",borderRight:"1px solid"}),t(),i.a.createElement(b.a,null)),i.a.createElement(g.a,{className:"board-row justify-content-center"},i.a.createElement(b.a,null),t({borderTop:"1px solid",borderBottom:"1px solid"}),t({border:"1px solid"}),t({borderTop:"1px solid",borderBottom:"1px solid"}),i.a.createElement(b.a,null)),i.a.createElement(g.a,{className:"board-row justify-content-center"},i.a.createElement(b.a,null),t(),t({borderLeft:"1px solid",borderRight:"1px solid"}),t(),i.a.createElement(b.a,null)))}var U={history:[{board:Array(9),turn:0,gameState:{status:r.Undetermined}}],step:0,stage:n.Init,ai:!0,players:[0,1]},B=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).aiPlayer=void 0,n.state=U,n.aiPlayer=L,n.handleChange=n.handleChange.bind(Object(f.a)(n)),n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(){this.state.stage===n.First&&this.state.ai&&0===this.state.players[1]&&this.makeMove(this.aiPlayer(this.state.history[0].board,this.state.players),!1)}},{key:"getGameState",value:function(e){var t,a=Object(h.a)(S);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(e[n[0]]&&e[n[0]]===e[n[1]]&&e[n[0]]===e[n[2]])return{status:r.Won,winner:e[n[0]]}}}catch(l){a.e(l)}finally{a.f()}return e.every((function(e){return null!=e}))?{status:r.Draw}:{status:r.Undetermined}}},{key:"handleChange",value:function(e,t){t.preventDefault(),this.setState(e)}},{key:"handleSquareClick",value:function(e){this.makeMove(e,!0)}},{key:"makeMove",value:function(e,t){var a=this;if(null!=e){var l=this.state.history.slice(0,this.state.step+1),i=l[this.state.step],s=Object(u.a)(i.board);if(!s[e]&&i.gameState.status===r.Undetermined){s[e]=t?I[i.turn]:I[this.state.players[1]];var o=this.getGameState(s);l.push({board:s,turn:0===i.turn?1:0,gameState:o});var c=l.length-1,h=o.status!==r.Undetermined?n.Done:n.Playing;this.setState({history:l,step:c,stage:h},(function(){if(h===n.Playing&&t&&a.state.ai&&o.status===r.Undetermined){var e=a.state.history.slice(0,a.state.step+1)[a.state.step],l=Object(u.a)(e.board);a.makeMove(a.aiPlayer(l,a.state.players),!1)}}))}}}},{key:"newGame",value:function(){this.setState(U)}},{key:"undo",value:function(){var e=this.state.step;this.state.ai?e-=this.state.history[e-1].turn===this.state.players[0]?1:2:e--,e<0&&(e=this.state.players[0]),this.setState({step:e,stage:n.Playing})}},{key:"redo",value:function(){var e=this.state.step+(this.state.ai?2:1);e>=this.state.history.length-1&&(e=this.state.history.length-1),this.setState({step:e})}},{key:"render",value:function(){var e,t,a=this,l=this.state.history,s=l[this.state.step],o=s.board;if(s.gameState.status!==r.Undetermined){var c;switch(s.gameState.status){case r.Won:c=s.gameState.winner+" wins!";break;case r.Draw:c="Draw!"}e=i.a.createElement(w.a,{variant:"primary"},c)}return t=this.state.stage!==n.Done?"Player "+(this.state.players[s.turn]+1)+" "+N[s.turn]:"-",i.a.createElement(p.a,null,i.a.createElement(D,{handleChange:this.handleChange,players:this.state.players,show:this.state.stage===n.Init,ai:this.state.ai}),i.a.createElement(p.a,{className:"mb-",role:"navigation"},i.a.createElement(E.a,{className:"justify-content-center mt-1 mb-4"},i.a.createElement(E.a.Item,null,i.a.createElement(E.a.Link,{onClick:function(){return a.newGame()}},"New Game")),i.a.createElement(E.a.Item,null,i.a.createElement(E.a.Link,{onClick:function(){return a.undo()},disabled:0===this.state.step||1===this.state.players[0]&&1===this.state.step},"Undo \u21b6")),i.a.createElement(E.a.Item,null,i.a.createElement(E.a.Link,{onClick:function(){return a.redo()},disabled:1===l.length||this.state.step===l.length-1},"Redo \u21b7")),i.a.createElement(E.a.Item,null,i.a.createElement(E.a.Link,{disabled:!0},i.a.createElement(k.a,{variant:"primary"},"Turn: ",t))))),i.a.createElement(T,{squares:o,onClick:function(e){return a.handleSquareClick(e)}}),e)}}]),a}(i.a.Component);function L(e,t){var a,n=I[t[1]],r=I[t[0]],l=Object(h.a)(S);try{for(l.s();!(a=l.n()).done;){var i=N(a.value,n);if(i.found)return i.value}}catch(P){l.e(P)}finally{l.f()}var s,o=Object(h.a)(S);try{for(o.s();!(s=o.n()).done;){var u=N(s.value,r);if(u.found)return u.value}}catch(P){o.e(P)}finally{o.f()}var m=D(n,r);if(m.found)return m.value;var d=D(r,n);if(d.found)return d.value;if(null==e[4])return 4;var f,v=[0,2,6,8],y=Object(h.a)(v.entries());try{for(y.s();!(f=y.n()).done;){var p=Object(c.a)(f.value,2),E=p[0],g=p[1];if(e[g]===r){var b=v[(E+2)%4];if(null==e[b])return b}}}catch(P){y.e(P)}finally{y.f()}for(var k=0,w=v;k<w.length;k++){var C=w[k];if(null==e[C])return C}for(var j=0,O=[1,3,5,7];j<O.length;j++){var x=O[j];if(null==e[x])return x}function N(t,a){var n,r=0,l=null,i=Object(h.a)(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;e[s]===a&&r++,null==e[s]&&(l=s)}}catch(P){i.e(P)}finally{i.f()}return 2===r&&null!=l?{found:!0,value:l}:{found:!1}}function D(t,a){var n=S.filter((function(n){return n.some((function(a){return e[a]===t}))&&!n.some((function(t){return e[t]===a}))}));if(n.length<2)return{found:!1};var r,l=Object(h.a)(n.entries());try{for(l.s();!(r=l.n()).done;){var i,s=Object(c.a)(r.value,2),o=s[0],u=s[1],m=Object(h.a)(n.entries());try{for(m.s();!(i=m.n()).done;){var d=Object(c.a)(i.value,2),f=d[0],v=d[1];if(o!==f){var y,p=Object(h.a)(u);try{for(p.s();!(y=p.n()).done;){var E=y.value;if(v.includes(E)&&null==e[E])return{found:!0,value:E}}}catch(P){p.e(P)}finally{p.f()}}}}catch(P){m.e(P)}finally{m.f()}}}catch(P){l.e(P)}finally{l.f()}return{found:!1}}}var W=function(){return i.a.createElement(B,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.56fb2b92.chunk.js.map