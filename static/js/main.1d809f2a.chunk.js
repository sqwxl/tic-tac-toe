(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{47:function(e,t,a){e.exports=a(59)},53:function(e,t,a){},54:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n,r,l=a(0),s=a.n(l),i=a(13),o=a.n(i),c=(a(52),a(53),a(37)),u=a(40),h=a(41),m=a(29),f=a(46),y=a(43),d=a(44),v=a(22),p=a(35),g=a(8),E=a(36),b=a(14),k=a(23),w=a(42),C=a(24),j=a(20),x=a(45),S=a(28),O=(a(54),[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]);!function(e){e.Init="INIT",e.First="FIRST",e.Playing="PLAYING",e.Done="DONE"}(n||(n={})),function(e){e.Game="GAME",e.Won="WON",e.Draw="DRAW"}(r||(r={}));var G=["\u274c","\u2b55"],I=["X","O"];function N(e){return s.a.createElement(C.a,{show:e.show,backdrop:"static",keyboard:!1,centered:!0},s.a.createElement(C.a.Header,{className:"justify-content-center"},s.a.createElement(C.a.Title,null,s.a.createElement("h1",{className:"display-4"},"TIC-TAC-TOE"))),s.a.createElement(C.a.Body,null,s.a.createElement("h5",null,"Choose game type:"),s.a.createElement(j.a,{disabled:!0,variant:"primary"},"Player 1 ",s.a.createElement(k.a,{variant:"light"},G[e.players[0]])),s.a.createElement("span",null," vs. "),s.a.createElement(x.a,{name:"ai-toggle",type:"radio",defaultValue:e.ai?1:0,onChange:function(t,a){return e.handleChange({ai:!!t},a)}},s.a.createElement(S.a,{value:1},"AI"),s.a.createElement(S.a,{value:0},"Player 2 ",s.a.createElement(k.a,{variant:"light"},G[e.players[1]]))),s.a.createElement("br",null),s.a.createElement(j.a,{className:"mt-1",variant:"primary",onClick:function(t){return e.handleChange({players:[e.players[1],e.players[0]]},t)}},s.a.createElement(k.a,{variant:"light"},G[e.players[0]])," \u21cc ",s.a.createElement(k.a,{variant:"light"},G[e.players[1]]))),s.a.createElement(C.a.Footer,null,s.a.createElement(j.a,{variant:"success",onClick:function(t){return e.handleChange({stage:n.First},t)}},"Play!")))}function P(e){var t=s.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 200 200",fill:"none",stroke:"black"},s.a.createElement("circle",{cx:"50%",cy:"50%",r:"49%"})),a=s.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 200 200",fill:"none",stroke:"black"},s.a.createElement("line",{x1:"0",y1:"0",x2:"100%",y2:"100%"}),s.a.createElement("line",{x1:"100%",y1:"0",x2:"0",y2:"100%"})),n=s.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 200 200",fill:"none",stroke:"none"}),r=null==e.value?n:e.value===I[0]?a:t;return s.a.createElement(b.a,{className:"square",onClick:e.onClick,style:e.style},r)}function D(e){var t=function(){var t=0;return function(a){var n=t++;return s.a.createElement(P,{value:e.squares[n],onClick:function(){return e.onClick(n)},style:a})}}();return s.a.createElement(p.a,null,s.a.createElement(E.a,{className:"board-row justify-content-center"},s.a.createElement(b.a,null),t(),t({borderLeft:"1px solid",borderRight:"1px solid"}),t(),s.a.createElement(b.a,null)),s.a.createElement(E.a,{className:"board-row justify-content-center"},s.a.createElement(b.a,null),t({borderTop:"1px solid",borderBottom:"1px solid"}),t({border:"1px solid"}),t({borderTop:"1px solid",borderBottom:"1px solid"}),s.a.createElement(b.a,null)),s.a.createElement(E.a,{className:"board-row justify-content-center"},s.a.createElement(b.a,null),t(),t({borderLeft:"1px solid",borderRight:"1px solid"}),t(),s.a.createElement(b.a,null)))}function M(e,t){var a=I[t[1]],n=I[t[0]];function r(t,a){var n,r=0,l=null,s=Object(v.a)(t);try{for(s.s();!(n=s.n()).done;){var i=n.value;e[i]===a&&r++,null==e[i]&&(l=i)}}catch(o){s.e(o)}finally{s.f()}return 2===r&&null!=l?{found:!0,value:l}:{found:!1}}if(e.every((function(e){return!e})))return 0+2*Math.round(4*Math.random());var l,s=Object(v.a)(O);try{for(s.s();!(l=s.n()).done;){var i=r(l.value,a);if(i.found)return i.value}}catch(E){s.e(E)}finally{s.f()}var o,c=Object(v.a)(O);try{for(c.s();!(o=c.n()).done;){var u=r(o.value,n);if(u.found)return u.value}}catch(E){c.e(E)}finally{c.f()}var h=O.filter((function(t){return t.some((function(t){return e[t]===a}))&&!t.some((function(t){return e[t]===n}))}));if(h.length)return h[0].filter((function(t){return null==e[t]}))[0];var m=O.filter((function(t){return t.every((function(t){return null===e[t]}))}));if(m.length)return m[0][0];var f,y=Object(v.a)(e.entries());try{for(y.s();!(f=y.n()).done;){var p=Object(d.a)(f.value,2),g=p[0];if(null==p[1])return g}}catch(E){y.e(E)}finally{y.f()}}var T={history:[{board:Array(9),turn:0,gameState:{status:r.Game}}],step:0,stage:n.Init,ai:!0,players:[0,1]},B=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).aiPlayer=void 0,n.state=T,n.aiPlayer=M,n.handleChange=n.handleChange.bind(Object(m.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){console.log(this.state.players)}},{key:"componentDidUpdate",value:function(){this.state.stage===n.First&&this.state.ai&&0===this.state.players[1]&&this.makeMove(this.aiPlayer(this.state.history[0].board,this.state.players),!1)}},{key:"getGameState",value:function(e){var t,a=Object(v.a)(O);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(e[n[0]]&&e[n[0]]===e[n[1]]&&e[n[0]]===e[n[2]])return{status:r.Won,winner:e[n[0]]}}}catch(l){a.e(l)}finally{a.f()}return e.every((function(e){return null!=e}))?{status:r.Draw}:{status:r.Game}}},{key:"handleChange",value:function(e,t){t.preventDefault(),this.setState(e)}},{key:"handleSquareClick",value:function(e){this.makeMove(e,!0)}},{key:"makeMove",value:function(e,t){var a=this;if(null!=e){var l=this.state.history.slice(0,this.state.step+1),s=l[this.state.step],i=Object(c.a)(s.board);if(!i[e]&&s.gameState.status===r.Game){i[e]=t?I[s.turn]:I[this.state.players[1]];var o=this.getGameState(i);l.push({board:i,turn:0===s.turn?1:0,gameState:o});var u=l.length-1,h=o.status!==r.Game?n.Done:n.Playing;this.setState({history:l,step:u,stage:h},(function(){if(h===n.Playing&&t&&a.state.ai&&o.status===r.Game){var e=a.state.history.slice(0,a.state.step+1)[a.state.step],l=Object(c.a)(e.board);a.makeMove(a.aiPlayer(l,a.state.players),!1)}}))}}}},{key:"newGame",value:function(){this.setState(T)}},{key:"undo",value:function(){var e=this.state.step;this.state.ai?e-=this.state.history[e-1].turn===this.state.players[0]?1:2:e--,e<0&&(e=this.state.players[0]),this.setState({step:e,stage:n.Playing})}},{key:"redo",value:function(){var e=this.state.step+(this.state.ai?2:1);e>=this.state.history.length-1&&(e=this.state.history.length-1),this.setState({step:e})}},{key:"render",value:function(){var e,t,a=this,l=this.state.history,i=l[this.state.step],o=i.board;if(i.gameState.status!==r.Game){var c;switch(i.gameState.status){case r.Won:c=i.gameState.winner+" wins!";break;case r.Draw:c="Draw!"}e=s.a.createElement(w.a,{variant:"primary"},c)}return t=this.state.stage===n.Playing?"Player "+(this.state.ai?"1":(this.state.players[this.state.step%2]+1).toString())+" "+G[this.state.step%2]:"-",s.a.createElement(p.a,null,s.a.createElement(N,{handleChange:this.handleChange,players:this.state.players,show:this.state.stage===n.Init,ai:this.state.ai}),s.a.createElement(p.a,{className:"mb-",role:"navigation"},s.a.createElement(g.a,{className:"justify-content-center mt-1 mb-4"},s.a.createElement(g.a.Item,null,s.a.createElement(g.a.Link,{onClick:function(){return a.newGame()}},"New Game")),s.a.createElement(g.a.Item,null,s.a.createElement(g.a.Link,{onClick:function(){return a.undo()},disabled:0===this.state.step||1===this.state.players[0]&&1===this.state.step},"Undo \u21b6")),s.a.createElement(g.a.Item,null,s.a.createElement(g.a.Link,{onClick:function(){return a.redo()},disabled:1===l.length||this.state.step===l.length-1},"Redo \u21b7")),s.a.createElement(g.a.Item,null,s.a.createElement(g.a.Link,{disabled:!0},s.a.createElement(k.a,{variant:"primary"},"Turn: ",t))))),s.a.createElement(D,{squares:o,onClick:function(e){return a.handleSquareClick(e)}}),e)}}]),a}(s.a.Component);var L=function(){return s.a.createElement(B,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.1d809f2a.chunk.js.map