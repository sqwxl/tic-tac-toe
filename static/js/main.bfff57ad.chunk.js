(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{47:function(e,t,a){e.exports=a(59)},53:function(e,t,a){},54:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n,r,l=a(0),s=a.n(l),i=a(14),o=a.n(i),c=(a(52),a(53),a(37)),u=a(38),h=a(12),m=a(41),f=a(42),d=a(29),v=a(46),y=a(44),g=a(35),p=a(8),E=a(36),b=a(15),k=a(23),w=a(43),C=a(24),j=a(21),O=a(45),x=a(28),S=(a(54),[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]);!function(e){e.Init="INIT",e.First="FIRST",e.Playing="PLAYING",e.Done="DONE"}(n||(n={})),function(e){e.Undetermined="UNDETERMINED",e.Won="WON",e.Draw="DRAW"}(r||(r={}));var N=["\u274c","\u2b55"],I=["X","O"];function D(e){return s.a.createElement(C.a,{show:e.show,backdrop:"static",keyboard:!1,centered:!0},s.a.createElement(C.a.Header,{className:"justify-content-center"},s.a.createElement(C.a.Title,null,s.a.createElement("h1",{className:"display-4"},"TIC-TAC-TOE"))),s.a.createElement(C.a.Body,null,s.a.createElement("h5",null,"Choose game type:"),s.a.createElement(j.a,{disabled:!0,variant:"primary"},"Player 1 ",s.a.createElement(k.a,{variant:"light"},N[e.players[0]])),s.a.createElement("span",null," vs. "),s.a.createElement(O.a,{name:"ai-toggle",type:"radio",defaultValue:e.ai?1:0,onChange:function(t,a){return e.handleChange({ai:!!t},a)}},s.a.createElement(x.a,{value:1},"AI"),s.a.createElement(x.a,{value:0},"Player 2 ",s.a.createElement(k.a,{variant:"light"},N[e.players[1]]))),s.a.createElement("br",null),s.a.createElement(j.a,{className:"mt-1",variant:"primary",onClick:function(t){return e.handleChange({players:[e.players[1],e.players[0]]},t)}},s.a.createElement(k.a,{variant:"light"},N[e.players[0]])," \u21cc ",s.a.createElement(k.a,{variant:"light"},N[e.players[1]]))),s.a.createElement(C.a.Footer,null,s.a.createElement(j.a,{variant:"success",onClick:function(t){return e.handleChange({stage:n.First},t)}},"Play!")))}function P(e){var t=s.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 200 200",fill:"none",stroke:"black"},s.a.createElement("circle",{cx:"50%",cy:"50%",r:"49%"})),a=s.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 200 200",fill:"none",stroke:"black"},s.a.createElement("line",{x1:"0",y1:"0",x2:"100%",y2:"100%"}),s.a.createElement("line",{x1:"100%",y1:"0",x2:"0",y2:"100%"})),n=s.a.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 200 200",fill:"none",stroke:"none"}),r=null==e.value?n:e.value===I[0]?a:t;return s.a.createElement(b.a,{className:"square",onClick:e.onClick,style:e.style},r)}function T(e){var t=function(){var t=0;return function(a){var n=t++;return s.a.createElement(P,{value:e.squares[n],onClick:function(){return e.onClick(n)},style:a})}}();return s.a.createElement(g.a,{fluid:"sm"},s.a.createElement(E.a,{className:"board-row justify-content-center"},s.a.createElement(b.a,{sm:1,lg:2}),t(),t({borderLeft:"1px solid",borderRight:"1px solid"}),t(),s.a.createElement(b.a,{sm:1,lg:2})),s.a.createElement(E.a,{className:"board-row justify-content-center"},s.a.createElement(b.a,{sm:1,lg:2}),t({borderTop:"1px solid",borderBottom:"1px solid"}),t({border:"1px solid"}),t({borderTop:"1px solid",borderBottom:"1px solid"}),s.a.createElement(b.a,{sm:1,lg:2})),s.a.createElement(E.a,{className:"board-row justify-content-center"},s.a.createElement(b.a,{sm:1,lg:2}),t(),t({borderLeft:"1px solid",borderRight:"1px solid"}),t(),s.a.createElement(b.a,{sm:1,lg:2})))}var U={history:[{board:Array(9),turn:0,gameState:{status:r.Undetermined}}],step:0,stage:n.Init,ai:!0,players:[0,1]},B=function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).aiPlayer=void 0,n.state=U,n.aiPlayer=M,n.handleChange=n.handleChange.bind(Object(d.a)(n)),n}return Object(f.a)(a,[{key:"componentDidUpdate",value:function(){this.state.stage===n.First&&this.state.ai&&0===this.state.players[1]&&this.makeMove(this.aiPlayer(this.state.history[0].board,this.state.players),!1)}},{key:"getGameState",value:function(e){var t,a=Object(h.a)(S);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(e[n[0]]&&e[n[0]]===e[n[1]]&&e[n[0]]===e[n[2]])return{status:r.Won,winner:e[n[0]]}}}catch(l){a.e(l)}finally{a.f()}return e.every((function(e){return null!=e}))?{status:r.Draw}:{status:r.Undetermined}}},{key:"handleChange",value:function(e,t){t.preventDefault(),this.setState(e)}},{key:"handleSquareClick",value:function(e){this.makeMove(e,!0)}},{key:"makeMove",value:function(e,t){var a=this;if(null!=e){var l=this.state.history.slice(0,this.state.step+1),s=l[this.state.step],i=Object(u.a)(s.board);if(!i[e]&&s.gameState.status===r.Undetermined){i[e]=t?I[s.turn]:I[this.state.players[1]];var o=this.getGameState(i);l.push({board:i,turn:0===s.turn?1:0,gameState:o});var c=l.length-1,h=o.status!==r.Undetermined?n.Done:n.Playing;this.setState({history:l,step:c,stage:h},(function(){if(h===n.Playing&&t&&a.state.ai&&o.status===r.Undetermined){var e=a.state.history.slice(0,a.state.step+1)[a.state.step],l=Object(u.a)(e.board);a.makeMove(a.aiPlayer(l,a.state.players),!1)}}))}}}},{key:"newGame",value:function(){this.setState(U)}},{key:"undo",value:function(){var e=this.state.step;this.state.ai?e-=this.state.history[e-1].turn===this.state.players[0]?1:2:e--,e<0&&(e=this.state.players[0]),this.setState({step:e,stage:n.Playing})}},{key:"redo",value:function(){var e=this.state.step+(this.state.ai?2:1);e>=this.state.history.length-1&&(e=this.state.history.length-1),this.setState({step:e})}},{key:"render",value:function(){var e,t,a=this,l=this.state.history,i=l[this.state.step],o=i.board;if(i.gameState.status!==r.Undetermined){var c;switch(i.gameState.status){case r.Won:c=i.gameState.winner+" wins!";break;case r.Draw:c="Draw!"}e=s.a.createElement(w.a,{variant:"primary"},c)}return t=this.state.stage!==n.Done?"Player "+(this.state.players[i.turn]+1)+" "+N[i.turn]:"-",s.a.createElement(g.a,null,s.a.createElement(D,{handleChange:this.handleChange,players:this.state.players,show:this.state.stage===n.Init,ai:this.state.ai}),s.a.createElement(g.a,{className:"mb-",role:"navigation"},s.a.createElement(p.a,{className:"justify-content-center mt-1 mb-4"},s.a.createElement(p.a.Item,null,s.a.createElement(p.a.Link,{onClick:function(){return a.newGame()}},"New Game")),s.a.createElement(p.a.Item,null,s.a.createElement(p.a.Link,{onClick:function(){return a.undo()},disabled:0===this.state.step||1===this.state.players[0]&&1===this.state.step},"Undo \u21b6")),s.a.createElement(p.a.Item,null,s.a.createElement(p.a.Link,{onClick:function(){return a.redo()},disabled:1===l.length||this.state.step===l.length-1},"Redo \u21b7")),s.a.createElement(p.a.Item,null,s.a.createElement(p.a.Link,{disabled:!0},s.a.createElement(k.a,{variant:"primary"},"Turn: ",t))))),s.a.createElement(T,{squares:o,onClick:function(e){return a.handleSquareClick(e)}}),e)}}]),a}(s.a.Component);function M(e,t){var a=I[t[1]],n=I[t[0]],r=[0,2,6,8];if(e.every((function(e){return null==e})))return r.concat([4])[Math.floor(5*Math.random())];var l,s=Object(h.a)(S);try{for(s.s();!(l=s.n()).done;){var i=N(l.value,a);if(i.found)return i.value}}catch(P){s.e(P)}finally{s.f()}var o,u=Object(h.a)(S);try{for(u.s();!(o=u.n()).done;){var m=N(o.value,n);if(m.found)return m.value}}catch(P){u.e(P)}finally{u.f()}var f=D(a,n);if(f.found)return f.value;var d=D(n,a);if(d.found)return d.value;if(null==e[4])return 4;var v,y=Object(h.a)(r.entries());try{for(y.s();!(v=y.n()).done;){var g=Object(c.a)(v.value,2),p=g[0],E=g[1];if(e[E]===n){var b=r[(p+2)%4];if(null==e[b])return b}}}catch(P){y.e(P)}finally{y.f()}for(var k=0,w=r;k<w.length;k++){var C=w[k];if(null==e[C])return C}for(var j=0,O=[1,3,5,7];j<O.length;j++){var x=O[j];if(null==e[x])return x}function N(t,a){var n,r=0,l=null,s=Object(h.a)(t);try{for(s.s();!(n=s.n()).done;){var i=n.value;e[i]===a&&r++,null==e[i]&&(l=i)}}catch(P){s.e(P)}finally{s.f()}return 2===r&&null!=l?{found:!0,value:l}:{found:!1}}function D(t,a){var n=S.filter((function(n){return n.some((function(a){return e[a]===t}))&&!n.some((function(t){return e[t]===a}))}));if(n.length<2)return{found:!1};var r,l=Object(h.a)(n.entries());try{for(l.s();!(r=l.n()).done;){var s,i=Object(c.a)(r.value,2),o=i[0],u=i[1],m=Object(h.a)(n.entries());try{for(m.s();!(s=m.n()).done;){var f=Object(c.a)(s.value,2),d=f[0],v=f[1];if(o!==d){var y,g=Object(h.a)(u);try{for(g.s();!(y=g.n()).done;){var p=y.value;if(v.includes(p)&&null==e[p])return{found:!0,value:p}}}catch(P){g.e(P)}finally{g.f()}}}}catch(P){m.e(P)}finally{m.f()}}}catch(P){l.e(P)}finally{l.f()}return{found:!1}}}var L=function(){return s.a.createElement(B,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.bfff57ad.chunk.js.map